# $Id$
# $Date$
# $Author$
# implemented by: Vladimir Khalatyan
#
# Construction of the Building (Walls, DS Floor and DS Ceiling)
#

param -unset Use_Walls_Notch=1

param -unset Walls_c=$Gray
param -unset Floor_c=$Gray
param -unset Ceiling_c=$Gray
param -unset Soil_c="0.89,0.85,0.73"

if $Invisible_Walls==1
    param Walls_c=Invisible
    param Floor_c=Invisible
    param Ceiling_c=$Gray
    param Soil_c=Invisible
endif

param Walls_m=CONCRETE_MARS
param Walls_h1=5181.6
param Walls_h2=5943.6-$Walls_h1
param Walls_h3=5486.4-$Walls_h1
#### My adjustment to bring the top of floor to y= -2312.47 mm Nov 2, 21013  R.C. ######
param Walls_y1=0.5*50.8+252.93
param Walls_y2=$Walls_y1+0.5*($Walls_h1+$Walls_h2)
param Walls_y3=$Walls_y1+0.5*($Walls_h1+$Walls_h3)

param Ceiling_h2=914.4
param Ceiling_h1=$Ceiling_h2+$Walls_h2
param Ceiling_h3=$Ceiling_h2+$Walls_h2-$Walls_h3
param Ceiling_y1=0.5*($Walls_h1+$Ceiling_h1)+$Walls_y1
param Ceiling_y2=0.5*($Walls_h2+$Ceiling_h2)+$Walls_y2
param Ceiling_y3=0.5*($Walls_h3+$Ceiling_h3)+$Walls_y3

param Floor_h=914.4
param Floor_y=-0.5*($Walls_h1+$Floor_h)+$Walls_y1

param Soil_m=Soil
param Soil_h1=$Walls_h1+$Ceiling_h1+$Floor_h
param Soil_h4=2000.0
param Soil_y1=0.5*($Ceiling_y1+0.5*$Ceiling_h1+$Floor_y-0.5*$Floor_h)
param Soil_y4=$Soil_y1+0.5*($Soil_h1+$Soil_h4)
param Soil_y5=$Soil_y1-0.5*($Soil_h1+$Soil_h4)

# Walls around the solenoids
# First Wall 
extrusion Walls_1 length=$Walls_h1 vertices=3701.74-3904,-15290.80+7929;7195.80-3904,-15290.80+7929;7195.80-3904,-11303.00+7929;7602.20-3904,-11303.00+7929;7602.20-3904,-9702.80+7929;7195.80-3904,-9702.80+7929;7195.80-3904,-2336.80+7929;7404.36-3904,-2336.80+7929;7404.36-3904,-779.58+7929;10806.49-3904,13257.34+7929;10994.71-3904,13211.72+7929;7598.04-3904,-802.72+7929;7602.20-3904,-5588.00+7929;8415.00-3904,-5588.00+7929;8415.00-3904,-6502.40+7929;7602.20-3904,-6502.40+7929;7602.20-3904,-9448.80+7929;8008.60-3904,-9448.80+7929;8008.60-3904,-11557.00+7929;7602.20-3904,-11557.00+7929;7602.20-3904,-12750.80+7929;7805.40-3904,-12750.80+7929;7805.40-3904,-16103.60+7929;4131.99-3904,-16103.60+7929 material=$Walls_m color=$Walls_c
place Walls_1 x=0 y=$Walls_y1 z=0 rotation=X90

# Second Wall 
if $Use_Walls_Notch==0
    extrusion Walls_2 length=$Walls_h1 vertices=947.40-3904,-9833.10+7929;947.40-3904,-3581.40+7929;-7714.00-3904,-3581.40+7929;-7714.00-3904,10464.80+7929;-10457.20-3904,10464.80+7929;-10457.20-3904,17576.80+7929;-7714.00-3904,17576.80+7929;-7714.00-3904,18389.60+7929;-10457.20-3904,18389.60+7929;-10457.20-3904,19000.00+7929;-11066.60-3904,19000.00+7929;-11066.60-3904,9652.00+7929;-8476.00-3904,9652.00+7929;-8476.00-3904,2540.00+7929;-10787.40-3904,2540.00+7929;-10787.40-3904,-4851.40+7929;-9619.00-3904,-4851.40+7929;-9619.00-3904,-6502.40+7929;-8806.20-3904,-6502.40+7929;-8806.20-3904,-4851.40+7929;-3523.00-3904,-4851.40+7929;-3523.00-3904,-6299.20+7929;-2710.20-3904,-6299.20+7929;-2710.20-3904,-4851.40+7929;134.60-3904,-4851.40+7929;134.60-3904,-9736.01+7929 material=$Walls_m color=$Walls_c
    place Walls_2 x=0 y=$Walls_y1 z=0 rotation=X90

elseif $Use_Walls_Notch==1
    extrusion Walls_2_notch1 length=$Walls_h1-2590.8 vertices=947.40-3904,-9833.10+7929;947.40-3904,-3581.40+7929;-7714.00-3904,-3581.40+7929;-7714.00-3904,10464.80+7929;-10457.20-3904,10464.80+7929;-10457.20-3904,17576.80+7929;-7714.00-3904,17576.80+7929;-7714.00-3904,18389.60+7929;-10457.20-3904,18389.60+7929;-10457.20-3904,19000.00+7929;-11066.60-3904,19000.00+7929;-11066.60-3904,9652.00+7929;-8476.00-3904,9652.00+7929;-8476.00-3904,2540.00+7929;-10787.40-3904,2540.00+7929;-10787.40-3904,-4851.40+7929;-9619.00-3904,-4851.40+7929;-9619.00-3904,-6502.40+7929;-8806.20-3904,-6502.40+7929;-8806.20-3904,-4851.40+7929;-3523.00-3904,-4851.40+7929;-3523.00-3904,-6299.20+7929;-2710.20-3904,-6299.20+7929;-2710.20-3904,-4851.40+7929;134.60-3904,-4851.40+7929;134.60-3904,-9736.01+7929 material=$Walls_m color=$Walls_c
    place Walls_2_notch1 x=0 y=$Walls_y1-0.5*2590.8 z=0 rotation=X90

    extrusion Walls_2_notch2 length=2590.8 vertices=947.40-3904,-9833.10+7929;947.40-3904,-3581.40+7929-609.6;-7714.00-3904,-3581.40+7929-609.6;-7714.00-3904,10464.80+7929;-10457.20-3904,10464.80+7929;-10457.20-3904,17576.80+7929;-7714.00-3904,17576.80+7929;-7714.00-3904,18389.60+7929;-10457.20-3904,18389.60+7929;-10457.20-3904,19000.00+7929;-11066.60-3904,19000.00+7929;-11066.60-3904,9652.00+7929;-8476.00-3904,9652.00+7929;-8476.00-3904,2540.00+7929;-10787.40-3904,2540.00+7929;-10787.40-3904,-4851.40+7929;-9619.00-3904,-4851.40+7929;-9619.00-3904,-6502.40+7929;-8806.20-3904,-6502.40+7929;-8806.20-3904,-4851.40+7929;-3523.00-3904,-4851.40+7929;-3523.00-3904,-6299.20+7929;-2710.20-3904,-6299.20+7929;-2710.20-3904,-4851.40+7929;134.60-3904,-4851.40+7929;134.60-3904,-9736.01+7929 material=$Walls_m color=$Walls_c
    place Walls_2_notch2 x=0 y=$Walls_y1+0.5*($Walls_h1-2590.8) z=0 rotation=X90
endif


# Third Wall 
extrusion Walls_3 length=$Walls_h1 vertices=-94.00-3904,3124.20+7929;5214.27-3904,3124.20+7929;9062.09-3904,19000.00+7929;8330.30-3904,19000.00+7929;4654.86-3904,3835.40+7929;3385.80-3904,3835.40+7929;3385.80-3904,4394.20+7929;668.00-3904,4394.20+7929;668.00-3904,9652.00+7929;3385.80-3904,9652.00+7929;3385.80-3904,10464.80+7929;668.00-3904,10464.80+7929;668.00-3904,17576.80+7929;3563.60-3904,17576.80+7929;3563.60-3904,19000.00+7929;2954.00-3904,19000.00+7929;2954.00-3904,18389.60+7929;-94.00-3904,18389.60+7929 material=$Walls_m color=$Walls_c
place Walls_3 x=0 y=$Walls_y1 z=0 rotation=X90

# Fourth Wall (extansion for the second wall because of the ceiling)
extrusion Walls_4 length=$Walls_h2 vertices=134.60-3904,-4851.40+7929;134.60-3904,-3581.40+7929;-7714.00-3904,-3581.40+7929;-7714.00-3904,10464.80+7929;-10457.20-3904,10464.80+7929;-10457.20-3904,17576.80+7929;-7714.00-3904,17576.80+7929;-7714.00-3904,18389.60+7929;-10457.20-3904,18389.60+7929;-10457.20-3904,25501.60+7929;-7714.00-3904,25501.60+7929;-7714.00-3904,25908.00+7929;-11066.60-3904,25908.00+7929;-11066.60-3904,9652.00+7929;-8476.00-3904,9652.00+7929;-8476.00-3904,2540.00+7929;-10787.40-3904,2540.00+7929;-10787.40-3904,-4851.40+7929;-9619.00-3904,-4851.40+7929;-9619.00-3904,-6502.40+7929;-8806.20-3904,-6502.40+7929;-8806.20-3904,-4851.40+7929;-3523.00-3904,-4851.40+7929;-3523.00-3904,-6299.20+7929;-2710.20-3904,-6299.20+7929;-2710.20-3904,-4851.40+7929 material=$Walls_m color=$Walls_c
place Walls_4 x=0 y=$Walls_y2 z=0 rotation=X90

# Fifth Wall (extansion for the third wall because of the ceiling)
extrusion Walls_5 length=$Walls_h2 vertices=-94.00-3904,3124.20+7929;1557.00-3904,3124.20+7929;1557.00-3904,4394.20+7929;668.00-3904,4394.20+7929;668.00-3904,9652.00+7929;3385.80-3904,9652.00+7929;3385.80-3904,10464.80+7929;668.00-3904,10464.80+7929;668.00-3904,17576.80+7929;3563.60-3904,17576.80+7929;3563.60-3904,25908.00+7929;-94.00-3904,25908.00+7929;-94.00-3904,25501.60+7929;2954.00-3904,25501.60+7929;2954.00-3904,18389.60+7929;-94.00-3904,18389.60+7929 material=$Walls_m color=$Walls_c
place Walls_5 x=0 y=$Walls_y2 z=0 rotation=X90

# Sixth Wall (extansion for the third and second walls)
extrusion Walls_6 length=$Walls_h1 vertices=2954.00-3904,19000.00+7929;3563.60-3904,19000.00+7929;3563.60-3904,42164.00+7929;-9847.60-3904,42164.00+7929;-9847.60-3904,41351.20+7929;-8526.80-3904,41351.20+7929;-8526.80-3904,34239.00+7929;-11066.60-3904,34239.00+7929;-11066.60-3904,19000.00+7929;-10457.20-3904,19000.00+7929;-10457.20-3904,25501.60+7929;-7714.00-3904,25501.60+7929;-7714.00-3904,26314.40+7929;-10457.20-3904,26314.40+7929;-10457.20-3904,33426.40+7929;-7714.00-3904,33426.40+7929;-7714.00-3904,41351.20+7929;2954.00-3904,41351.20+7929;2954.00-3904,34239.20+7929;-94.00-3904,34239.20+7929;-94.00-3904,33426.40+7929;2954.00-3904,33426.40+7929;2954.00-3904,26314.40+7929;-94.00-3904,26314.40+7929;-94.00-3904,25501.60+7929;2954.00-3904,25501.60+7929 material=$Walls_m color=$Walls_c
place Walls_6 x=0 y=$Walls_y1 z=0 rotation=X90

# Seventh Wall (extansion for the third and second walls)
extrusion Walls_7 length=$Walls_h3 vertices=-11066.60-3904,25908.00+7929;-7714.00-3904,25908.00+7929;-7714.00-3904,26314.40+7929;-10457.20-3904,26314.40+7929;-10457.20-3904,33426.40+7929;-7714.00-3904,33426.40+7929;-7714.00-3904,41351.20+7929;2954.00-3904,41351.20+7929;2954.00-3904,34239.20+7929;-94.00-3904,34239.20+7929;-94.00-3904,33426.40+7929;2954.00-3904,33426.40+7929;2954.00-3904,26314.40+7929;-94.00-3904,26314.40+7929;-94.00-3904,25908.00+7929;3563.60-3904,25908.00+7929;3563.60-3904,42164.00+7929;-9847.60-3904,42164.00+7929;-9847.60-3904,41351.20+7929;-8526.80-3904,41351.20+7929;-8526.80-3904,34239.00+7929;-11066.60-3904,34239.00+7929 material=$Walls_m color=$Walls_c
place Walls_7 x=0 y=$Walls_y3 z=0 rotation=X90

#PS Ceiling
extrusion Ceiling_1 length=$Ceiling_h1 vertices=134.60-3904,-4851.40+7929;134.60-3904,-3581.40+7929;1557.00-3904,-3581.40+7929;1557.00-3904,4394.20+7929;3385.80-3904,4394.20+7929;3385.80-3904,3835.40+7929;4654.86-3904,3835.40+7929;8330.30-3904,19000.00+7929;9062.09-3904,19000.00+7929;10806.49-3904,13257.34+7929;10994.71-3904,13211.72+7929;7598.04-3904,-802.72+7929;7602.20-3904,-5588.00+7929;8415.00-3904,-5588.00+7929;8415.00-3904,-6502.40+7929;7602.20-3904,-6502.40+7929;7602.20-3904,-9448.80+7929;8008.60-3904,-9448.80+7929;8008.60-3904,-11557.00+7929;7602.20-3904,-11557.00+7929;7602.20-3904,-12750.80+7929;7805.40-3904,-12750.80+7929;7805.40-3904,-16103.60+7929;4131.99-3904,-16103.60+7929;3701.74-3904,-15290.80+7929;947.40-3904,-9833.10+7929;134.60-3904,-9736.01+7929 material=$Walls_m color=$Ceiling_c
place Ceiling_1 x=0 y=$Ceiling_y1 z=0 rotation=X90

#DS Ceiling
extrusion Ceiling_2 length=$Ceiling_h2 vertices=134.60-3904,-4851.40+7929;134.60-3904,-3581.40+7929;1557.00-3904,-3581.40+7929;1557.00-3904,4394.20+7929;668.00-3904,4394.20+7929;668.00-3904,9652.00+7929;3385.80-3904,9652.00+7929;3385.80-3904,10464.80+7929;668.00-3904,10464.80+7929;668.00-3904,17576.80+7929;3563.60-3904,17576.80+7929;3563.60-3904,25908.00+7929;-11066.60-3904,25908.00+7929;-11066.60-3904,9652.00+7929;-8476.00-3904,9652.00+7929;-8476.00-3904,2540.00+7929;-10787.40-3904,2540.00+7929;-10787.40-3904,-4851.40+7929;-9619.00-3904,-4851.40+7929;-9619.00-3904,-6502.40+7929;-8806.20-3904,-6502.40+7929;-8806.20-3904,-4851.40+7929;-3523.00-3904,-4851.40+7929;-3523.00-3904,-6299.20+7929;-2710.20-3904,-6299.20+7929;-2710.20-3904,-4851.40+7929 material=$Walls_m color=$Ceiling_c
place Ceiling_2 x=0 y=$Ceiling_y2 z=0 rotation=X90

#DS Ceiling (lower part)
extrusion Ceiling_3 length=$Ceiling_h3 vertices=-11066.60-3904,25908.00+7929;3563.60-3904,25908.00+7929;3563.60-3904,42164.00+7929;-9847.60-3904,42164.00+7929;-9847.60-3904,41351.20+7929;-8526.80-3904,41351.20+7929;-8526.80-3904,34239.00+7929;-11066.60-3904,34239.00+7929 material=$Walls_m color=$Ceiling_c
place Ceiling_3 x=0 y=$Ceiling_y3 z=0 rotation=X90

#Floor
extrusion Floor length=$Floor_h vertices=-2956.60,-1904.10;-3769.40,-1807.01;-3769.40,3077.60;-6614.20,3077.60;-6614.20,1629.80;-7427.00,1629.80;-7427.00,3077.60;-12710.20,3077.60;-12710.20,1426.60;-13523.00,1426.60;-13523.00,3077.60;-14691.40,3077.60;-14691.40,10469.00;-12380.00,10469.00;-12380.00,17581.00;-14970.60,17581.00;-14970.60,26929.00;-340.40,26929.00;-340.40,25505.80;-3236.00,25505.80;-3236.00,18393.80;-518.20,18393.80;-518.20,17581.00;-3236.00,17581.00;-3236.00,12323.20;-518.20,12323.20;-518.20,11764.40;750.86,11764.40;4426.30,26929.00;5158.09,26929.00;6902.49,21186.34;7090.71,21140.72;3694.04,7126.28;3698.20,2341.00;4511.00,2341.00;4511.00,1426.60;3698.20,1426.60;3698.20,-1519.80;4104.60,-1519.80;4104.60,-3628.00;3698.20,-3628.00;3698.20,-4821.80;3901.40,-4821.80;3901.40,-8174.60;227.99,-8174.60;-202.26,-7361.80 material=$Walls_m color=$Floor_c
place Floor x=0 y=$Floor_y z=0 rotation=X90

#Floor (extension)
extrusion Floor length=$Floor_h vertices=3563.60-3904,19000.00+7929;3563.60-3904,42164.00+7929;-9847.60-3904,42164.00+7929;-9847.60-3904,41351.20+7929;-8526.80-3904,41351.20+7929;-8526.80-3904,34239.00+7929;-11066.60-3904,34239.00+7929;-11066.60-3904,19000.00+7929 material=$Walls_m color=$Floor_c
place Floor x=0 y=$Floor_y z=0 rotation=X90

# Soil 1 around the builing
extrusion Soil_1 length=$Soil_h1 vertices=4131.99-3904,-16103.60+7929;4131.99-3904,-30000.00+7929;15000.00-3904,-30000.00+7929;15000.00-3904,13211.72+7929;10994.71-3904,13211.72+7929;7598.04-3904,-802.72+7929;7602.20-3904,-5588.00+7929;8415.00-3904,-5588.00+7929;8415.00-3904,-6502.40+7929;7602.20-3904,-6502.40+7929;7602.20-3904,-9448.80+7929;8008.60-3904,-9448.80+7929;8008.60-3904,-11557.00+7929;7602.20-3904,-11557.00+7929;7602.20-3904,-12750.80+7929;7805.40-3904,-12750.80+7929;7805.40-3904,-16103.60+7929 material=$Soil_m color=$Soil_c
place Soil_1 x=0 y=$Soil_y1 z=0 rotation=X90

# Soil 2 around the builing
extrusion Soil_2 length=$Soil_h1 vertices=134.60-3904,-9736.01+7929;-15000.00-3904,-9736.01+7929;-15000.00-3904,50000+7929;-9847.60-3904,50000+7929;-9847.60-3904,41351.20+7929;-8526.80-3904,41351.20+7929;-8526.80-3904,34239.00+7929;-11066.60-3904,34239.00+7929;-11066.60-3904,9652.00+7929;-8476.00-3904,9652.00+7929;-8476.00-3904,2540.00+7929;-10787.40-3904,2540.00+7929;-10787.40-3904,-4851.40+7929;-9619.00-3904,-4851.40+7929;-9619.00-3904,-6502.40+7929;-8806.20-3904,-6502.40+7929;-8806.20-3904,-4851.40+7929;-3523.00-3904,-4851.40+7929;-3523.00-3904,-6299.20+7929;-2710.20-3904,-6299.20+7929;-2710.20-3904,-4851.40+7929;134.60-3904,-4851.40+7929 material=$Soil_m color=$Soil_c
place Soil_2 x=0 y=$Soil_y1 z=0 rotation=X90

# Soil 3 around the builing
extrusion Soil_3 length=$Soil_h1 vertices=8330.30-3904,19000.00+7929;4654.86-3904,3835.40+7929;3385.80-3904,3835.40+7929;3385.80-3904,4394.20+7929;668.00-3904,4394.20+7929;668.00-3904,9652.00+7929;3385.80-3904,9652.00+7929;3385.80-3904,10464.80+7929;668.00-3904,10464.80+7929;668.00-3904,17576.80+7929;3563.60-3904,17576.80+7929;3563.60-3904,42164.00+7929;-9847.60-3904,42164.00+7929;-9847.60-3904,50000.00+7929;8330.30-3904,50000.00+7929 material=$Soil_m color=$Soil_c
place Soil_3 x=0 y=$Soil_y1 z=0 rotation=X90

# Soil 4 around the builing
extrusion Soil_4 length=$Soil_h4 vertices=4131.99-3904,-30000.00+7929;15000.00-3904,-30000.00+7929;15000.00-3904,13211.72+7929;10994.71-3904,13211.72+7929;9062.09-3904,19000.00+7929;8330.30-3904,19000.00+7929;8330.30-3904,50000.00+7929;-15000.00-3904,50000.00+7929;-15000.00-3904,-9736.01+7929;134.60-3904,-9736.01+7929;947.40-3904,-9833.10+7929;3701.74-3904,-15290.80+7929;4131.99-3904,-16103.60+7929 material=$Soil_m color=$Soil_c
place Soil_4 x=0 y=$Soil_y4 z=0 rotation=X90
place Soil_4 x=0 y=$Soil_y5 z=0 rotation=X90

